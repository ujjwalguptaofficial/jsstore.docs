(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{229:function(e,t,o){"use strict";o.r(t);var r={components:{Layout:o(175).a}},n=o(14),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Layout",{attrs:{title:"mapSet",description:"mapSet provides you a way to create or update your set value in update query",keywords:"update , mapSet, query, indexeddb, jsstore",contentSrc:"/home/runner/work/jsstore.docs/jsstore.docs/content/tutorial/update/map-set.md"}},[o("p",[e._v("mapSet provides you a way to convert your set value in update query with stored value. ")]),e._v(" "),o("p",[e._v("It is a function which is called with "),o("code",[e._v("setValue")]),e._v(" & "),o("code",[e._v("storedValue")]),e._v(".")]),e._v(" "),o("pre",[o("code",[e._v("function myUpdateMapper(setValue, storedValue){\n   setValue.totalPrice = storedValue.price * storedValue.quantity;\n}\n")])]),e._v(" "),o("p",[e._v("now we need to use this method in update query -")]),e._v(" "),o("h2",{attrs:{id:"withwebworker"}},[e._v("With web worker")]),e._v(" "),o("p",[e._v("In case of web worker, you first need to make your method accessible to jsstore worker, so that it can call it.")]),e._v(" "),o("h4",{attrs:{id:"1savetheabovecodeinafileandimportitinsidewebworker"}},[e._v("1. Save the above code in a file and import it inside web worker")]),e._v(" "),o("p",[e._v("you can use "),o("a",{attrs:{href:"/tutorial/import-scripts"}},[e._v("importScripts")]),e._v(" to import your scripts which contains your methods.")]),e._v(" "),o("pre",[o("code",[e._v('await connection.importSripts("update_logic.js");\n')])]),e._v(" "),o("h4",{attrs:{id:"2usethemethodinquery"}},[e._v("2. Use the method in query")]),e._v(" "),o("pre",[o("code",[e._v("connection.update({\n    in:\"Products\",\n    set:{\n        totalPrice:0\n    },\n    mapSet: 'myUpdateMapper' // pass the method name\n})\n")])]),e._v(" "),o("h2",{attrs:{id:"withoutwebworker"}},[e._v("Without web worker")]),e._v(" "),o("p",[e._v("You can simply use the method as mapSet.")]),e._v(" "),o("pre",[o("code",[e._v('connection.update({\n    in:"Products",\n    set:{\n        totalPrice:0\n    },\n    mapSet: myUpdateMapper // pass the method\n})\n')])])])}),[],!1,null,null,null);t.default=component.exports}}]);